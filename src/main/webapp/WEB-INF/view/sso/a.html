<!DOCTYPE html>
<html>

<head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">


    <title>Guns - 404 页面</title>
    <link rel="shortcut icon" href="${ctxPath}/static/favicon.ico"> <link href="${ctxPath}/static/css/bootstrap.min.css?v=3.3.6" rel="stylesheet">
    <link href="${ctxPath}/static/css/font-awesome.css?v=4.4.0" rel="stylesheet">
    <link href="${ctxPath}/static/css/animate.css" rel="stylesheet">
    <link href="${ctxPath}/static/css/style.css?v=4.1.0" rel="stylesheet">
    <script src="${ctxPath}/static/js/jquery-3.3.1.min.js"></script>
    <script src="${ctxPath}/static/js/jquery.cookie.js" type="text/javascript"></script>
</head>

<body class="gray-bg">

    <p>这是主页</p>
    <iframe src="http://www.bb.com:18888/svc/b" style="height: 100px;width: 100px;display: block;"></iframe>
    <!-- 全局js -->


</body>
<script  type="text/javascript">
    window.onload = () =>{
        var data=JSON.stringify({
            msg:'msg',
            token:'331'
        })
        document.getElementsByTagName('iframe')[0].contentWindow.postMessage(data,'*');
    }

    window.addEventListener('message',function(e){

        // 有消息从父级传来时 存贮 tokenData
//        if(e.source!=window.parent) return;
        console.log("==========a===========")
        //e.data即是我们从A传来的数据 这里使用localStorage进行存贮（请勿使用sessionStorage）
        localStorage.setItem("tokenData",e.data);
        console.log(e.data);


    },false);
</script>
</html>
